{% extends "base.html" %}
{% block body %}

<style>
    
    .fruit-showcase {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
    }

    .fruit-card {
        width: 200px;
        margin: 10px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 10px;
        text-align: center;
        transition: transform 0.3s ease;
    }

    .fruit-card:hover {
        transform: scale(1.05);
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .fruit-image-container {
        max-width: 150px;
        max-height: 150px;
        overflow: hidden;
        margin: 0 auto;
        border-radius: 50%;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    }

    .fruit-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
    }

    /* Styling for Fruit details */
    .fruit-details {
        padding: 20px;
        background-color: #f4f4f4;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    /* Button styling */
    .order-btn,
    .add-to-cart-btn,
    .checkout-btn {
        background-color: #ff9900;
        color: #fff;
        padding: 15px;
        margin-top: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.3s;
    }

    .checkout-btn {
        background-color: #ff9900;
        color: #fff;
        padding: 15px 30px;
        margin-top: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    .checkout-btn:hover {
        background-color: #333;
        transform: scale(1.05);
    }
    .checkout-btn img {
        width: 20px; 
        height: auto;
        margin-right: 10px;
    }
    
    .checkout-btn i {
        font-size: 20px;
        margin-right: 10px;
    }
    .order-btn:hover,
    .add-to-cart-btn:hover,
    .checkout-btn:hover {
        background-color: #333;
    }


    .advertisement {
        margin-top: 20px;
        padding: 15px;
        background-color: #4CAF50;
        color: #fff;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
    }

    .advertisement p {
        margin: 0;
        white-space: nowrap;
        animation: moveText 40s linear infinite;
    }
    .advertisement h2 {
        animation: squeezeText 4s ease-in-out infinite;
        margin: 0;
    }

    /* Cart styling */
    .cart-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 2;
    }

    .cart-content {
        position: relative; 
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        width: 300px;
        text-align: center;
    }

    .close-cart-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 40px;
        cursor: pointer;
        color: #333;
        transition: color 0.3s;
    }

    .close-cart-btn:hover {
        color: #070000;
    }
    @keyframes moveText {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(-100%);
        }
    }
    @keyframes moveText {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(-100%);
        }
    }
</style>

<div class="content">
    <h2 style="color: #333;">Fruits</h2>

    <button class="checkout-btn" onclick="openCart()">Open Cart</button>


    <div class="fruit-showcase">

        
        <div class="fruit-card" onclick="openFruitModal('Apple')">
            <h3>Apple</h3>
            <div class="fruit-image-container">
                <img src="/static/apple.jpeg" alt="Apple Image" class="fruit-image">
            </div>
            <p>Delicious and nutritious apples.</p>
            <button class="order-btn" onclick="orderFruit('Apple')">Order Now</button>
            <button class="add-to-cart-btn" onclick="addToCart('Apple')">Add to Cart</button>
        </div>
        <div class="fruit-card" onclick="openFruitModal('Apple')">
            <h3>Apple</h3>
            <div class="fruit-image-container">
                <img src="/static/apple.jpeg" alt="Apple Image" class="fruit-image">
            </div>
            <p>Delicious and nutritious apples.</p>
            <button class="order-btn" onclick="orderFruit('Apple')">Order Now</button>
            <button class="add-to-cart-btn" onclick="addToCart('Apple')">Add to Cart</button>
        </div>

        <!-- Fruit Card 2 -->
        <div class="fruit-card" onclick="openFruitModal('Banana')">
            <h3>Banana</h3>
            <div class="fruit-image-container">
                <img src="/static/banana.jpeg" alt="Banana Image" class="fruit-image">
            </div>
            <p>Sweet and energy-boosting bananas.</p>
            <button class="order-btn" onclick="orderFruit('Banana')">Order Now</button>
            <button class="add-to-cart-btn" onclick="addToCart('Banana')">Add to Cart</button>
        </div>

        <!-- Add more fruit cards as needed -->
        <div class="fruit-card" onclick="openFruitModal('Orange')">
            <h3>Orange</h3>
            <div class="fruit-image-container">
                <img src="/static/orange.jpeg" alt="Orange Image" class="fruit-image">
            </div>
            <p>Juicy and refreshing oranges.</p>
            <button class="order-btn" onclick="orderFruit('Orange')">Order Now</button>
            <button class="add-to-cart-btn" onclick="addToCart('Orange')">Add to Cart</button>
        </div>
       
        <div class="fruit-card" onclick="openFruitModal('Grapes')">
            <h3>Grapes</h3>
            <div class="fruit-image-container">
                <img src="/static/grapes.jpeg" alt="Grapes Image" class="fruit-image">
            </div>
            <p>Sweet and delicious grapes.</p>
            <button class="order-btn" onclick="orderFruit('Grapes')">Order Now</button>
            <button class="add-to-cart-btn" onclick="addToCart('Grapes')">Add to Cart</button>
        </div>
        
  
    </div>
    <div id="addedToCartPopup" class="popup"></div>

  
    <div class="advertisement">
        <h2>Special Offer!</h2>
        <p>Get 10% off on your first order. Use code: SPECIAL10</p>
    </div>

    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <h3>Your Cart</h3>
            <ul id="cartItems"></ul>
            <button class="close-cart-btn" onclick="closeCart()">Ã—</button>
        </div>
    </div>


<script>
    
    var cart = {};

    function addToCart(fruitName) {
        if (cart[fruitName]) {
            cart[fruitName]++;
        } else {
            cart[fruitName] = 1;
        }

        updateCartUI();
    }

    function updateCartUI() {
        var cartItemsElement = document.getElementById("cartItems");
        cartItemsElement.innerHTML = "";

        for (var fruit in cart) {
            var listItem = document.createElement("li");
            listItem.textContent = `${cart[fruit]} x ${fruit}`;
            cartItemsElement.appendChild(listItem);
        }
    }

    function openCart() { 
        document.getElementById("cartModal").style.display = "flex";
    }

    function closeCart() {
        document.getElementById("cartModal").style.display = "none";
    }


    

    function showAddedToCartPopup(fruitName) {
        var confirmation = confirm(`${fruitName} added to cart! View your cart?`);

        if (confirmation) {
            openCart();
        }
    }

    function addToCart(fruitName) {
        if (cart[fruitName]) {
            cart[fruitName]++;
        } else {
            cart[fruitName] = 1;
        }

        updateCartUI();
        showAddedToCartPopup(fruitName);
    }


</script>

<!-- ... Existing code ... -->

{% endblock body %}
